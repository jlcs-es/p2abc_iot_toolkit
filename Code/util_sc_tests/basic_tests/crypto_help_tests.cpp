#include <gtest/gtest.h>
#include <m_adapted_API.h>

TEST(BlockCopyTest, CopyFixedLength8Bytes) {
    BYTE bufferDst[8];
    for (int i = 0; i < 8; i++) {
        bufferDst[i] = 0xff;
    }

    BYTE bufferSrc[8] = { 0xa7, 0xf1, 0xd9, 0x2a, 0x82, 0xc8, 0xd8, 0xfe};

    mBlockCopyFixedLength(8, bufferSrc, bufferDst);

    for(int i=0; i<8; i++)
        EXPECT_EQ(bufferSrc[i], bufferDst[i]);
}


TEST(BlockCopyTest, CopyFixedLength80Bytes) {
    BYTE bufferDst[80];
    for (int i = 0; i < 80; i++) {
        bufferDst[i] = 0xff;
    }

    BYTE bufferSrc[80] = { 0xa7, 0xf1, 0xd9, 0x2a, 0x82, 0xc8, 0xd8, 0xfe, 0x09, 0x10,
                           0xa7, 0xf1, 0xd9, 0x2a, 0x82, 0xc8, 0xd8, 0xfe, 0x09, 0x10,
                           0xa7, 0xf1, 0xd9, 0x2a, 0x82, 0xc8, 0xd8, 0xfe, 0x09, 0x10,
                           0xa7, 0xf1, 0xd9, 0x2a, 0x82, 0xc8, 0xd8, 0xfe, 0x09, 0x10,
                           0xa7, 0xf1, 0xd9, 0x2a, 0x82, 0xc8, 0xd8, 0xfe, 0x09, 0x10,
                           0xa7, 0xf1, 0xd9, 0x2a, 0x82, 0xc8, 0xd8, 0xfe, 0x09, 0x10,
                           0xa7, 0xf1, 0xd9, 0x2a, 0x82, 0xc8, 0xd8, 0xfe, 0x09, 0x10,
                           0xa7, 0xf1, 0xd9, 0x2a, 0x82, 0xc8, 0xd8, 0xfe, 0x09, 0x10,
                        };

    mBlockCopyFixedLength(80, bufferSrc, bufferDst);

    for(int i=0; i<80; i++)
        EXPECT_EQ(bufferSrc[i], bufferDst[i]);

}